
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="blue-grey">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Installation and configuration &#8212; Caltech DIBS</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="General information" href="general.html" />
    <link rel="prev" title="System architecture" href="architecture.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=deep-orange data-md-color-accent=teal>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#installation" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Caltech DIBS"
           class="md-header-nav__button md-logo">
          
              <img src="_static/dibs-icon-white-sm.png" height="26"
                   alt="Home logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Caltech DIBS</span>
          <span class="md-header-nav__topic"> Installation and configuration </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/caltechlibrary/dibs/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Caltech DIBS
  </div>
</a>
          </div>
        </div>
      
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Home</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Caltech DIBS" class="md-nav__button md-logo">
      
        <img src="_static/dibs-icon-white-sm.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="Caltech DIBS">Caltech DIBS</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/caltechlibrary/dibs/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Caltech DIBS
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="usage.html" class="md-nav__link">Using DIBS</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="usage.html#authentication" class="md-nav__link">Authentication</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="usage.html#front-page" class="md-nav__link">Front page</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="usage.html#the-patron-experience" class="md-nav__link">The patron experience</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="usage.html#the-staff-experience" class="md-nav__link">The staff experience</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="usage.html#the-document-scanning-workflow" class="md-nav__link">The document scanning workflow</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html" class="md-nav__link">System architecture</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="architecture.html#design-goals" class="md-nav__link">Design goals</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#architectural-overview" class="md-nav__link">Architectural overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#the-dibs-server-in-more-detail" class="md-nav__link">The DIBS server in more detail</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#the-dibs-database-in-more-detail" class="md-nav__link">The DIBS database in more detail</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#the-iiif-server-in-more-detail" class="md-nav__link">The IIIF server in more detail</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Installation and configuration </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Installation and configuration</a>
      
        
<nav class="md-nav md-nav--secondary">
  <ul class="md-nav__list" data-md-scrollfix="">
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#requirements" class="md-nav__link">Requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#installation" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#configuration" class="md-nav__link">Configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#management-of-staff-roles" class="md-nav__link">Management of staff roles</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#operation" class="md-nav__link">Operation</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="general.html" class="md-nav__link">General information</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="faqs.html" class="md-nav__link">FAQs about DIBS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="history.html" class="md-nav__link">DIBS history</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="references.html" class="md-nav__link">References and resources</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="colophon.html" class="md-nav__link">Colophon</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
  <ul class="md-nav__list" data-md-scrollfix="">
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="installation-and-configuration">
<h1 id="installation--page-root">Installation and configuration<a class="headerlink" href="#installation--page-root" title="Permalink to this headline">¶</a></h1>
<section id="requirements">
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The core DIBS server is written in <a class="reference external" href="https://www.python.org">Python 3</a> and makes use of some additional Python software libraries that are installed automatically during the <a class="reference external" href="#installation">installation step</a> steps.</p>
<section id="requirements-to-run-a-demo">
<h3 id="requirements-to-run-a-demo"><em>Requirements to run a demo</em><a class="headerlink" href="#requirements-to-run-a-demo" title="Permalink to this headline">¶</a></h3>
<p>Although DIBS relies on the existence of a IIIF image server (and content to serve), for initial exploration and demonstration purposes, you don’t need to set up an IIIF server; you can reference content located in any of a number of publicly-accessible IIIF servers around the world, and DIBS includes a sample <a class="reference external" href="https://iiif.io/explainers/using_iiif_resources/#iiif-manifest">IIIF manifest</a> as an example of that.  Beyond this, you shouldn’t need anything else to run the DIBS demo. (If that’s not the case, please <a class="reference external" href="https://github.com/caltechlibrary/dibs/issues">report the problem</a>.)</p>
</section>
<section id="requirements-to-use-dibs-for-real-use-at-another-institution">
<h3 id="requirements-to-use-dibs-for-real-use-at-another-institution"><em>Requirements to use DIBS for real use at another institution</em><a class="headerlink" href="#requirements-to-use-dibs-for-real-use-at-another-institution" title="Permalink to this headline">¶</a></h3>
<p>In order to use DIBS at another institution (other than <a class="reference external" href="https://www.caltech.edu">Caltech</a>), certain additional things are needed.</p>
<ol class="simple">
<li><p>A <strong>IIIF server</strong>. At Caltech, we use a serverless component running on an Amazon cloud instance, but <a class="reference external" href="https://github.com/IIIF/awesome-iiif#image-servers">many other IIIF server options exist</a>. If you’re looking at DIBS, presumably it means you want to serve content that is not freely available in a public IIIF server, which means you will need to set up a server of your own.</p></li>
<li><p>A <strong>web server</strong> to host DIBS.  The current version of DIBS has only been tested with Apache2 on Linux (specifically, Ubuntu 20) and macOS (specifically 10.13, High Sierra). DIBS comes with a WSGI adapter file and sample config file for Apache, but it should be possible to run DIBS in other WSGI-compliant servers.</p></li>
<li><p>An <strong>authentication layer</strong>. For authentication, DIBS assumes that the web server takes care of user authentication in such a way that DIBS is behind the authentication layer and all users who can reach the DIBS pages are allowed to view content. DIBS only implements checks to distinguish between regular users versus staff who are allowed to access restricted pages. For the authentication layer, at Caltech we use the <a class="reference external" href="https://en.wikipedia.org/wiki/Shibboleth_Single_Sign-on_architecture">Shibboleth</a> single sign-on system, but it is possible to use other schemes.  The installation and configuration of a single sign-on system depends on the specifics of a given institution, and are not described here.</p></li>
<li><p>Modification to the metadata retrieval code. We strove to limit dependencies on external systems, but the interface for staff to add items to DIBS requires looking up some limited metadata based on an item’s barcode, and lacking a universal scheme or ILS interface to do that, we had to hard code the access. Thankfully, this is limited to just a few lines in  <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">server.py</span></code></span>. We currently use TIND at Caltech, so unless you also use TIND, you will need to modify the TIND-specific lines in that file.</p></li>
<li><p>Modification to the HTML templates to change the branding. The template files in <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">dibs/templates</span></code></span> are specific to Caltech, and will need to be edited to suit another installation. (We are open to making the branding customization easier and would welcome a <a class="reference external" href="https://docs.github.com/en/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests">pull request</a> for suitable changes!)</p></li>
</ol>
</section>
</section>
<section id="installation">
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The current version of DIBS does not have a separate installation process; using DIBS currently means having to get the source code from this repository and running it from the source directory.</p>
<section id="get-the-dibs-source-code">
<h3 id="get-the-dibs-source-code">⓵ <em>Get the DIBS source code</em><a class="headerlink" href="#get-the-dibs-source-code" title="Permalink to this headline">¶</a></h3>
<p>There are several ways of getting the latest release of the DIBS source code. Here is one of the simplest:</p>
<ol class="simple">
<li><p>Go to the <a class="reference external" href="https://github.com/caltechlibrary/dibs/releases">releases page</a> in the GitHub repository for DIBS.</p></li>
<li><p>Find the latest release there (normally the first one on the page). <a class="reference internal" href="https://github.com/caltechlibrary/dibs/raw/main/.graphics/assets.png"><img alt="https://github.com/caltechlibrary/dibs/raw/main/.graphics/assets.png" class="align-right" src="https://github.com/caltechlibrary/dibs/raw/main/.graphics/assets.png" style="width: 200px;"/></a></p></li>
<li><p>Find the <strong>Assets</strong> section of the release.</p></li>
<li><p>Click on the link titled <strong>Source code</strong> (zip); it will be downloaded.</p></li>
<li><p>Unzip the file.</p></li>
</ol>
<p>The result will be a subdirectory named <code class="docutils literal notranslate"><span class="pre">dibs</span></code>, which contains the source code.</p>
</section>
<section id="install-python-dependencies">
<h3 id="install-python-dependencies">⓶ <em>Install Python dependencies</em><a class="headerlink" href="#install-python-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Next, install the Python dependencies on your system or your virtual environment:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> dibs
python3 -m pip install -r requirements.txt
</pre></div>
</div>
<p>That is all you should need to run a demo of DIBS on a Linux or macOS system.  As mentioned above, if you plan on deploying DIBS, you will also need to install and configure Apache, and an authentication system running in conjunction with the Apache server. Instructions for doing this vary too widely based on individual site requirements, and are outside the scope of this document.</p>
</section>
</section>
<section id="configuration">
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Certain characteristics of DIBS are configured using a file named <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code>, which DIBS looks for in the <code class="docutils literal notranslate"><span class="pre">dibs</span></code> directory. The file <code class="docutils literal notranslate"><span class="pre">settings.ini-example</span></code> is a sample configuration file for DIBS.  Copy the file to <code class="docutils literal notranslate"><span class="pre">settings.ini</span></code>,</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>cp settings.ini-example settings.ini
</pre></div>
</div>
<p>and edit its contents in a text editor to suit your local installation. The comments explain what each of the variables does, but we elaborate on some of the variables below.</p>
<section id="manifest-dir">
<h3 id="manifest-dir"><code class="docutils literal notranslate"><span class="pre">MANIFEST_DIR</span></code><a class="headerlink" href="#manifest-dir" title="Permalink to this headline">¶</a></h3>
<p>This variable sets the path to the directory where DIBS looks for manifest files.  Each file name should follow the pattern <i><code>N</code></i><code>-manifest.json</code>, where <i><code>N</code></i> is the item barcode.  The source distribution of DIBS comes with a sample manifest for illustration purposes.</p>
</section>
<section id="iiif-base-url">
<h3 id="iiif-base-url"><code class="docutils literal notranslate"><span class="pre">IIIF_BASE_URL</span></code><a class="headerlink" href="#iiif-base-url" title="Permalink to this headline">¶</a></h3>
<p>The value of this variable should have the form <code class="docutils literal notranslate"><span class="pre">https://youriiifserver.com/iiif/2</span></code>, and it should be the common base for IIIF URLs served by your IIIF server. (This means that the value should appear throughout your manifest files, as the common root of all page images.) This URL will not be shared with clients.  <strong>You should protect this URL from becoming public</strong> if you are making copyrighted works available via DIBS, because knowledge of this URL would allow anyone with familiarity with IIIF to bypass restrictions in DIBS and access your IIIF content directly.</p>
<p>When DIBS reads a manifest, it replaces all instances of the value of <code class="docutils literal notranslate"><span class="pre">IIIF_BASE_URL</span></code> with a URL rooted at the DIBS server’s address, and this modified manifest is what it serves to clients. When a client requests page images via the translated URL, DIBS reverses the transformation to construct the IIIF URL from where it can get the page image, and then returns that data back to the client. The client never sees the real URL of the IIIF server or the images. The <em>controlled digital lending</em> aspect of DIBS is that it also refuses to return IIIF content unless the client has been authenticated and the user has borrowed the item through DIBS’ loan system.</p>
</section>
</section>
<section id="management-of-staff-roles">
<h2 id="management-of-staff-roles">Management of staff roles<a class="headerlink" href="#management-of-staff-roles" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, DIBS assumes that another mechanism in the web server handles authentication of users. However, DIBS needs to distinguish between users who are allowed to perform administrative tasks (such as adding new items for loans and setting loan parameters) and other users. DIBS employs a simple “people” table in its database, and a program, <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">people-manager</span></code></span>, that provides an interface for adding user role information to this table.</p>
<p>To be able to manage DIBS content, you must create at least one user with a role of “library”. As an example, suppose you want to name your sample user <code class="docutils literal notranslate"><span class="pre">dibsuser</span></code>, then you could run the following command:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>./people-manager add <span class="nv">role</span><span class="o">=</span><span class="s2">"library"</span> <span class="nv">uname</span><span class="o">=</span><span class="s2">"dibsuser"</span>
</pre></div>
</div>
</section>
<section id="operation">
<h2 id="operation">Operation<a class="headerlink" href="#operation" title="Permalink to this headline">¶</a></h2>
<section id="running-dibs-locally-for-demonstration-and-development">
<h3 id="running-dibs-locally-for-demonstration-and-development">Running DIBS locally for demonstration and development<a class="headerlink" href="#running-dibs-locally-for-demonstration-and-development" title="Permalink to this headline">¶</a></h3>
<p>For demonstration purposes as well as development, it’s convenient to run DIBS on your local machine.  The following instructions describes how you can do this. Prior to starting the DIBS server for the first time, for testing purposes, you may want to add some sample data. This can be done by running the script <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">load-mock-data.py</span></code></span>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python3 load-mock-data.py
</pre></div>
</div>
<p>For local experimentation and development only, the script <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">run-server</span></code></span> can be used to start a local copy of the server.  It assumes you are in the current directory, and it takes a few arguments for controlling its behavior:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>./run-server -h
</pre></div>
</div>
<p>As mentioned above, in a real installation, DIBS needs a single sign-on system such as <a class="reference external" href="https://en.wikipedia.org/wiki/Shibboleth_Single_Sign-on_architecture">Shibboleth</a> on the server to provide user authentication.  This is not the situation in a local development server, and so for demo/debugging purposes, the <code class="docutils literal notranslate"><span class="pre">run-server</span></code> command lets you tell DIBS that a specific user has already been authenticated.  Using the example user from above, you can start a local DIBS server in debug mode like this:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>./run-server -m debug -u dibsuser
</pre></div>
</div>
<p>By default it starts the server on <code class="docutils literal notranslate"><span class="pre">localhost</span></code> port 8080.  Using the <code class="docutils literal notranslate"><span class="pre">debug</span></code> run mode flag changes the behavior in various useful ways, such as to reload the source files automatically if any of them are edited, and to run <code class="docutils literal notranslate"><span class="pre">pdb</span></code> upon any exceptions.  (These would not be enabled in a production server.)</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">run-server</span></code> is <strong>not intended for use in production servers</strong>. For actual use, you must configure a web server such as <a class="reference external" href="https://httpd.apache.org">Apache</a> to host the system. DIBS comes with an <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">adapter.wsgi</span></code></span> and an example <span class="xref myst">Apache conf file</span> for this purpose to help you get started.</p>
</section>
<section id="running-dibs-in-production">
<h3 id="running-dibs-in-production">Running DIBS in production<a class="headerlink" href="#running-dibs-in-production" title="Permalink to this headline">¶</a></h3>
<p>DIBS comes with a sample Apache configuration file in <code class="docutils literal notranslate"><span class="pre">dibs.conf-example</span></code>. This file configures the web server and tells it to use <code class="docutils literal notranslate"><span class="pre">adapter.wsgi</span></code> (also provided with DIBS) to define a WSGI application for DIBS.</p>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="architecture.html" title="System architecture"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> System architecture </span>
              </div>
            </a>
          
          
            <a href="general.html" title="General information"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> General information </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, Caltech Library.
              
          </div>
            Last updated on
              Sep 30, 2021.
            <br/>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>