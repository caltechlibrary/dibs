
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="blue-grey">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Using DIBS &#8212; Caltech DIBS</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="System architecture" href="architecture.html" />
    <link rel="prev" title="Caltech Library Digital Borrowing System" href="index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=deep-orange data-md-color-accent=teal>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#usage" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Caltech DIBS"
           class="md-header-nav__button md-logo">
          
              <img src="_static/dibs-icon-white-sm.png" height="26"
                   alt="Home logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Caltech DIBS</span>
          <span class="md-header-nav__topic"> Using DIBS </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/caltechlibrary/dibs/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Caltech DIBS
  </div>
</a>
          </div>
        </div>
      
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">Home</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Caltech DIBS" class="md-nav__button md-logo">
      
        <img src="_static/dibs-icon-white-sm.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="Caltech DIBS">Caltech DIBS</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/caltechlibrary/dibs/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Caltech DIBS
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Using DIBS </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Using DIBS</a>
      
        
<nav class="md-nav md-nav--secondary">
  <ul class="md-nav__list" data-md-scrollfix="">
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#authentication" class="md-nav__link">Authentication</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#front-page" class="md-nav__link">Front page</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#the-patron-experience" class="md-nav__link">The patron experience</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#the-staff-experience" class="md-nav__link">The staff experience</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#the-document-scanning-workflow" class="md-nav__link">The document scanning workflow</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html" class="md-nav__link">System architecture</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="architecture.html#design-goals" class="md-nav__link">Design goals</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#architectural-overview" class="md-nav__link">Architectural overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#the-dibs-server-in-more-detail" class="md-nav__link">The DIBS server in more detail</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#the-dibs-database-in-more-detail" class="md-nav__link">The DIBS database in more detail</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="architecture.html#the-iiif-server-in-more-detail" class="md-nav__link">The IIIF server in more detail</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html" class="md-nav__link">Installation and configuration</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="installation.html#requirements" class="md-nav__link">Requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html#installation" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html#configuration" class="md-nav__link">Configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html#management-of-staff-roles" class="md-nav__link">Management of staff roles</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html#operation" class="md-nav__link">Operation</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="history.html" class="md-nav__link">DIBS history</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="history.html#origin-story" class="md-nav__link">Origin story</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="history.html#version-history" class="md-nav__link">Version history</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="references.html" class="md-nav__link">References and resources</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="colophon.html" class="md-nav__link">Colophon</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
  <ul class="md-nav__list" data-md-scrollfix="">
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="using-dibs">
<h1 id="usage--page-root">Using DIBS<a class="headerlink" href="#usage--page-root" title="Permalink to this headline">¶</a></h1>
<p>This page describes how DIBS works from the users’ standpoint.  A separate section in this document describes the <a class="reference external" href="architecture.html#architecture--page-root">system architecture</a> that implements the functionality described here.</p>
<section id="authentication">
<h2 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>Authentication is assumed to be handled by the system hosting DIBS. In Caltech’s case, we use <a class="reference external" href="https://en.wikipedia.org/wiki/Shibboleth_Single_Sign-on_architecture">Shibboleth</a>, an institute-wide, single sign-on system (SSO) for authentication. This means that a sign-in page is presented before users ever reach DIBS, by an authentication layer implemented by the web server. The screenshot below shows an example of this:</p>
<figure>
<img src="_static/media/sso.png"/>
</figure>
<p>DIBS itself does not do anything beyond distinguishing between regular users and those who have staff privileges (discussed below). This distinction is made based on the identity of the user as conveyed by the SSO system. DIBS does not ask for user login credentials nor store them (nor can it access them, since that is handled by the SSO system).</p>
</section>
<section id="front-page">
<h2 id="front-page">Front page<a class="headerlink" href="#front-page" title="Permalink to this headline">¶</a></h2>
<p>The current design of DIBS is focused on helping instructors and students enrolled in classes.  DIBS provides fairly distinct experiences for patrons on the one hand, and staff on the other; this separation is due to expectations about how different classes of users will interact with the system:</p>
<ol class="simple">
<li><p>We expect that patrons will be informed about the availability of specific items via course syllabi or similar resources produced by course instructors.  Consequently, DIBS does not currently expose to patrons a separate index of “all things available for digital loan”. In part, this is because we expect patrons will be directly informed about the pages describing individual items, and in part because we anticipate that in the future we will add DIBS links directly to Caltech’s <a class="reference external" href="https://info.tind.io/ils">TIND</a>-based catalog.</p></li>
<li><p>We expect that library staff need to interact with the system in a substantially <em>different</em> way: not to read the materials, but to manage the items in the database of digitized works and control loan parameters.  Thus, staff <em>do</em> see a list of all items available through the system, but access to this list is limited to Library staff.</p></li>
</ol>
<p>These considerations explain the front page of DIBS, which (perhaps contrary to expectations) lacks a login/sign-in interface or a list of items.  This is because in normal use, we expect that users will go straight either to a page describing an individual item or to a DIBS management page.  The front page acts mainly as an information page that describes the purpose of the system and the loan policies:</p>
<figure>
<img src="_static/media/welcome-page.png"/>
</figure>
</section>
<section id="the-patron-experience">
<h2 id="the-patron-experience">The patron experience<a class="headerlink" href="#the-patron-experience" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, patrons are assumed to be provided information about specific items available for loan.  The working assumption is that they will be given URLs that take them directly to item description pages in DIBS.  An example of such an item description page is shown below:</p>
<figure>
<img src="_static/media/item-page.png"/>
</figure>
<p>The item description page provides basic information about a particular title available through DIBS, along with a button to request a digital loan.  The information about the title is derived from Caltech’s <a class="reference external" href="https://info.tind.io/ILS">TIND</a> server based on the barcode used by Library staff when they add the item to DIBS.</p>
<p>The text and button shown in the lower half of the page change based on the current availability of the item. The page will show a  <span class="button color-primary">Get loan</span> button if the item is available for loan at that time.  If the item is not available to the patron, the button changes to <span class="button color-not-available">Not available</span>, and in addition, the text above the button provides information about why it is not available and when it will be available again:</p>
<figure>
<img src="_static/media/item-not-available.png"/>
</figure>
<p>If the item is available to the user, and they click the <span class="button color-primary">Get loan</span> button, then they will be presented with a brief confirmation dialog.  If they elect to proceed, a loan will be started immediately and they will be transferred to the viewer.</p>
<figure>
<img src="_static/media/loan-in-viewer.png"/>
</figure>
<p>DIBS uses the <a class="reference external" href="https://universalviewer.io">Universal Viewer (UV)</a>, an open-source browser-based media viewer that works with content described in <a class="reference external" href="https://iiif.io/community/faq/">IIIF</a> format.  The loan is issued for a limited time, and the end time is shown in the upper left portion of the viewer screen. (The information about the loan duration and the URL for the viewer page are also sent separately via email to the patron, in case they lose it or want to view the content from a different device.)</p>
<p>The patron can elect to end the loan early.  If they do, the viewer will close and they will be presented with a thank-you page that also includes a link to a feedback page:</p>
<figure>
<img src="_static/media/loan-ended.png"/>
</figure>
<p>In designing DIBS, we sought to minimize the amount of patron data requested and stored, to maintain patron privacy and reduce the impact of potential data leaks.  DIBS does not store any patron information when a loan is not in effect (after the lock-out period on a title that was just borrowed), and during a loan, it stores only the user’s institutional single sign-on (SSO) identity combined with the (single) title they have on loan during the loan period.  There are no provisions in the software for retaining the information past the loan period, or tracking identities or loan statistics based on users.</p>
</section>
<section id="the-staff-experience">
<h2 id="the-staff-experience">The staff experience<a class="headerlink" href="#the-staff-experience" title="Permalink to this headline">¶</a></h2>
<p>Overall, the workflow to add new items to DIBS is simple: staff scan books and store the results in a secure location (one with a shared file system accessible to the DIBS server) and add basic metadata to the DIBS database. Once the item is added to DIBS and flagged as ready to be loaned, a web page for the item allows institutional patrons to request time-limited loans and view the items in the Universal Viewer.  (That is the <a class="reference external" href="#the-patron-experience">patron experience</a> described in the previous section.)</p>
<section id="how-users-are-identified-as-staff-users">
<h3 id="how-users-are-identified-as-staff-users">How users are identified as staff users<a class="headerlink" href="#how-users-are-identified-as-staff-users" title="Permalink to this headline">¶</a></h3>
<p>As mentioned at the beginning of this page, users are authenticated by a separate software layer before they can access DIBS. This simplifies DIBS’s implementation and reduces what it must do to distinguish different user roles.  By default, every authenticated user is assumed to have basic privileges, so all that is needed is to tell DIBS which users should have staff privileges. DIBS comes with a command-line utility program called <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">people-manager</span></code></span> for that purpose.  For example, to add a user with identity <code class="docutils literal notranslate"><span class="pre">fakeuser2021@caltech.edu</span></code> as a staff user, a system administrator needs to run the following command on the server where DIBS is installed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>./people-manager add <span class="nv">uname</span><span class="o">=</span><span class="s2">"fakeuser2021@caltech.edu"</span> <span class="nv">role</span><span class="o">=</span><span class="s2">"library"</span>
</pre></div>
</div>
</section>
<section id="additional-pages-available-to-staff-users">
<h3 id="additional-pages-available-to-staff-users">Additional pages available to staff users<a class="headerlink" href="#additional-pages-available-to-staff-users" title="Permalink to this headline">¶</a></h3>
<p>Users with staff privileges see additional links in the upper-right hand corner menu on every page presented by DIBS. In particular, the menu provides access to the content list and statistics pages, as shown in the screenshot below:</p>
<figure>
<img src="_static/media/dropdown-menu.png"/>
</figure>
</section>
<section id="the-list-page">
<h3 id="the-list-page">The list page<a class="headerlink" href="#the-list-page" title="Permalink to this headline">¶</a></h3>
<p>Staff are redirected to the main entry point for staff, which is the list page located at <code class="docutils literal notranslate"><span class="pre">/list</span></code>:</p>
<figure>
<img src="_static/media/list-page.png"/>
</figure>
<p>As its name implies, the list page provides a list all of the items known to DIBS (whether they are ready to be available for digital loans or not), and allows staff to add, edit, or remove items.  It is also the place where staff can get the link to be distributed to patrons to request loans.  In more detail:</p>
<ul class="simple">
<li><p><strong>Barcode</strong>: the barcode identifying the item in the Caltech Library.</p></li>
<li><p><strong>Title</strong>: the title of the item. This is entered free-form in the DIBS entry form and does not have to match the actual title in Caltech’s TIND database.</p></li>
<li><p><strong>Author</strong>: the author of the item. This is entered free-form in the DIBS entry form and does not have to match the actual author in Caltech’s TIND database.</p></li>
<li><p><strong>Available to loan?</strong>: when unchecked, the item is not made available for digital loans. The presence of a checkbox in this column depends on the state of processing of the document in the scanning workflow; see the section on <a href="#the-document-scanning-workflow"><i>The document scanning workflow</i></a> below.</p></li>
<li><p><strong>Loan duration</strong>: the duration of a loan. The system automatically closes the loan after the loan period and blocks the patron’s access. (Patrons can also close loans early if they wish.)</p></li>
<li><p><strong>Copies for loans</strong>: how many copies of the item are being made available for simultaneous borrowing?</p></li>
<li><p><span class="button color-secondary">Copy link</span>: this copies to the user’s clipboard a link to the item loan page.  This is what should be communicated to course instructors, so that they can pass on the URLs to their students.</p></li>
<li><p><span class="button color-info">Edit entry</span>: edit the entry. This brings up the same form as is used to add new entries, but with the values filled in, allowing the user to change the values and save the results.</p></li>
</ul>
</section>
<section id="adding-new-items">
<h3 id="adding-new-items">Adding new items<a class="headerlink" href="#adding-new-items" title="Permalink to this headline">¶</a></h3>
<p>At the bottom of the list page, there are two buttons named <span class="button color-primary">Add new item</span> and  <span class="button color-danger">Manage item list</span>.</p>
<figure>
<img src="_static/media/bottom-of-list-page.png"/>
</figure>
<p>If the user clicks the <span class="button color-primary">Add new item</span> button, they are presented with the following screen:</p>
<figure>
<img src="_static/media/add-item-page.png"/>
</figure>
<p>Here, information can be entered to describe a new item being made available for digital loans.  All of the information about a given item is based on the barcode; this barcode is used to look up the item in Caltech’s TIND server, and the information extracted from TIND is used to populate the item view page discussed in the previous section.</p>
</section>
<section id="managing-items">
<h3 id="managing-items">Managing items<a class="headerlink" href="#managing-items" title="Permalink to this headline">¶</a></h3>
<p>If the user clicks the <span class="button color-danger">Manage item list</span> button, they are presented with the following screen:</p>
<figure>
<img src="_static/media/manage-item-list-page.png"/>
</figure>
<p>In the current version of DIBS, this page only implements one action. Clicking the <span class="button color-danger">Delist</span> button removes the entry for the item in the DIBS database. (This does not remove the manifest, scans, or other files, only the database entry.) In future versions of DIBS, the management page may include additional operations.</p>
</section>
<section id="the-stats-page">
<h3 id="the-stats-page">The stats page<a class="headerlink" href="#the-stats-page" title="Permalink to this headline">¶</a></h3>
<p>DIBS offers some basic statistics on the <em>stats</em> page:</p>
<figure>
<img src="_static/media/stats-page.png"/>
</figure>
<p>Any items currently on loan will be shown in bold face in the list. In addition, the page reports three statistics in the last three columns of the table.</p>
<ul class="simple">
<li><p><em>Total loans to date</em>: this is a straight count of the number of times the item has been loaned and returned. (Currently on-loan items are not added to the count until they are returned.)</p></li>
<li><p><em>Average loan duration</em>: the mean duration of all loans for the item. If the item has never been borrowed, it is reported as “(never borrowed)”, otherwise a duration is given in general human-understandable terms.</p></li>
<li><p><em>Content retrievals</em>: this column contains a small bar graph for each item, expressing the number of page retrievals for that item within the past 15, 30, 45 and 60 minutes.  The counts change over time in a rolling fashion and are recomputed relative to the present time every time the page is refreshed. The values are intended to give a rough sense of the reader activity over the past hour for a given item.</p></li>
</ul>
</section>
</section>
<section id="the-document-scanning-workflow">
<h2 id="the-document-scanning-workflow">The document scanning workflow<a class="headerlink" href="#the-document-scanning-workflow" title="Permalink to this headline">¶</a></h2>
<p>Before a new item is to be made available through DIBS, it normally requires a workflow to be completed. This workflow involves steps such as scanning book pages, converting the scan images to a format suitable for IIIF, and more. DIBS supports this process in the following way.</p>
<ol class="simple">
<li><p>After an entry is created for a new item as <a href="#adding-new-items">described above</a>, if no IIIF manifest exists yet for that entry, then DIBS shows a button named <span class="button color-primary">Process</span> in the column titled <strong>Available to loan?</strong> as shown in the figure below.  When this button is pressed, an indicator file is created in a location where the document processing workflow looks for it.  Staff do not have to press this button immediately: they can add an entry to DIBS and continue scanning pages until they are done.  Once scanning is completed and the item is ready to be converted to IIIF format, then that is when staff should press the  <span class="button color-primary">Process</span> button.  <figure><img alt="_images/process-button.png" src="_images/process-button.png"/></figure></p></li>
<li><p>Once it is initiated, the workflow runs independently and externally to DIBS and takes time to complete. Until the workflow completes or is interrupted, DIBS shows an hourglass icon in the  <strong>Available to loan?</strong> column of the list page:  <figure><img alt="_images/item-processing-hourglass.png" src="_images/item-processing-hourglass.png"/></figure></p></li>
<li><p>If an error occurred during processing, the hourglass icon will change to a stop sign, as shown in the figure below. The error symbol is for notification purposes only; DIBS does not provide an interface to take additional actions, because the underlying problem is expected to be detected by the workflow system and appropriate measures are assumed to be taken automatically outside of DIBS.  <figure><img alt="_images/item-processing-problem.png" src="_images/item-processing-problem.png"/></figure></p></li>
<li><p>Once the workflow process has completed and a manifest file is available for the item, then the item gains the availability checkbox.  <figure><img alt="_images/item-availability-checkbox.png" src="_images/item-availability-checkbox.png"/></figure></p></li>
</ol>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="index.html" title="Caltech Library Digital Borrowing System"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Caltech Library Digital Borrowing System </span>
              </div>
            </a>
          
          
            <a href="architecture.html" title="System architecture"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> System architecture </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, Caltech Library.
              
          </div>
            Last updated on
              Sep 17, 2021.
            <br/>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>